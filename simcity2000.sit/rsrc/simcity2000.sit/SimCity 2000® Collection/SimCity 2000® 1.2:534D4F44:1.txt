start:
00000000  48E7 FFFE                movem.l    -[A7], D0,D1,D2,D3,D4,D5,D6,D7,A0,A1,A2,A3,A4,A5,A6
00000004  48E7 6000                movem.l    -[A7], D1,D2
00000008  A025                     syscall    GetHandleSize
0000000A  4CDF 0006                movem.l    D1,D2, [A7]+
0000000E  4A80                     tst.l      D0
00000010  6700 0098                beq        +0x9A /* 000000AA */
00000014  2E00                     move.l     D7, D0
00000016  2050                     movea.l    A0, [A0]
00000018  4A42                     tst.w      D2
0000001A  6604                     bne        +0x6 /* 00000020 */
0000001C  343C 0001                move.w     D2, 0x1
label00000020:
00000020  3C02                     move.w     D6, D2
00000022  0C50 0002                cmpi.w     [A0], 0x2
00000026  6612                     bne        +0x14 /* 0000003A */
00000028  4280                     clr.l      D0
0000002A  3028 0004                move.w     D0, [A0 + 0x4]
0000002E  E740                     asl        D0.w, 3
00000030  D0C0                     add.w      A0, D0
00000032  9E80                     sub.l      D7, D0
00000034  5D87                     subq.l     D7, 6
00000036  5C48                     addq.w     A0, 6
00000038  6016                     bra        +0x18 /* 00000050 */
label0000003A:
0000003A  4280                     clr.l      D0
0000003C  3028 000A                move.w     D0, [A0 + 0xA]
00000040  E740                     asl        D0.w, 3
00000042  D0C0                     add.w      A0, D0
00000044  D0FC 000C                add.w      A0, 0xC
00000048  9E80                     sub.l      D7, D0
0000004A  0487 0000 000C           subi.l     D7, 0xC
label00000050:
00000050  D0FC 0016                add.w      A0, 0x16
00000054  0487 0000 0016           subi.l     D7, 0x16
0000005A  6B00 004E                bmi        +0x50 /* 000000AA */
label0000005E:
0000005E  383C 0080                move.w     D4, 0x80
label00000062:
00000062  1010                     move.b     D0, [A0]
00000064  6A1E                     bpl        +0x20 /* 00000084 */
00000066  B800                     cmp.b      D4, D0
00000068  6404                     bcc        +0x6 /* 0000006E */
0000006A  1800                     move.b     D4, D0
0000006C  600C                     bra        +0xE /* 0000007A */
label0000006E:
0000006E  5346                     subq.w     D6, 1
00000070  6608                     bne        +0xA /* 0000007A */
00000072  3C02                     move.w     D6, D2
00000074  D801                     add.b      D4, D1
00000076  6B02                     bmi        +0x4 /* 0000007A */
00000078  9801                     sub.b      D4, D1
label0000007A:
0000007A  10C4                     move.b     [A0]+, D4
0000007C  5387                     subq.l     D7, 1
0000007E  66E2                     bne        -0x1C /* 00000062 */
00000080  6000 0028                bra        +0x2A /* 000000AA */
label00000084:
00000084  383C 007F                move.w     D4, 0x7F
label00000088:
00000088  1010                     move.b     D0, [A0]
0000008A  6BD2                     bmi        -0x2C /* 0000005E */
0000008C  B800                     cmp.b      D4, D0
0000008E  6504                     bcs        +0x6 /* 00000094 */
00000090  1800                     move.b     D4, D0
00000092  600C                     bra        +0xE /* 000000A0 */
label00000094:
00000094  5346                     subq.w     D6, 1
00000096  6608                     bne        +0xA /* 000000A0 */
00000098  3C02                     move.w     D6, D2
0000009A  9801                     sub.b      D4, D1
0000009C  6A02                     bpl        +0x4 /* 000000A0 */
0000009E  D801                     add.b      D4, D1
label000000A0:
000000A0  10C4                     move.b     [A0]+, D4
000000A2  5387                     subq.l     D7, 1
000000A4  66E2                     bne        -0x1C /* 00000088 */
000000A6  6000 0002                bra        +0x4 /* 000000AA */
label000000AA:
000000AA  4CDF 7FFF                movem.l    D0,D1,D2,D3,D4,D5,D6,D7,A0,A1,A2,A3,A4,A5,A6, [A7]+
000000AE  4E75                     rts
