start:
00000000  48E7 FFFE                movem.l    -[A7], D0,D1,D2,D3,D4,D5,D6,D7,A0,A1,A2,A3,A4,A5,A6
00000004  48E7 6000                movem.l    -[A7], D1,D2
00000008  A025                     syscall    GetHandleSize
0000000A  4CDF 0006                movem.l    D1,D2, [A7]+
0000000E  4A80                     tst.l      D0
00000010  6700 009A                beq        +0x9C /* 000000AC */
00000014  2E00                     move.l     D7, D0
00000016  2050                     movea.l    A0, [A0]
00000018  4A41                     tst.w      D1
0000001A  6604                     bne        +0x6 /* 00000020 */
0000001C  323C 0001                move.w     D1, 0x1
label00000020:
00000020  4A42                     tst.w      D2
00000022  6604                     bne        +0x6 /* 00000028 */
00000024  343C 0001                move.w     D2, 0x1
label00000028:
00000028  0C50 0002                cmpi.w     [A0], 0x2
0000002C  6612                     bne        +0x14 /* 00000040 */
0000002E  4280                     clr.l      D0
00000030  3028 0004                move.w     D0, [A0 + 0x4]
00000034  E740                     asl        D0.w, 3
00000036  D0C0                     add.w      A0, D0
00000038  9E80                     sub.l      D7, D0
0000003A  5D87                     subq.l     D7, 6
0000003C  5C48                     addq.w     A0, 6
0000003E  6016                     bra        +0x18 /* 00000056 */
label00000040:
00000040  4280                     clr.l      D0
00000042  3028 000A                move.w     D0, [A0 + 0xA]
00000046  E740                     asl        D0.w, 3
00000048  D0C0                     add.w      A0, D0
0000004A  D0FC 000C                add.w      A0, 0xC
0000004E  9E80                     sub.l      D7, D0
00000050  0487 0000 000C           subi.l     D7, 0xC
label00000056:
00000056  D0FC 0016                add.w      A0, 0x16
0000005A  0487 0000 001C           subi.l     D7, 0x1C
00000060  6B00 004A                bmi        +0x4C /* 000000AC */
00000064  4241                     clr.w      D1
00000066  4242                     clr.w      D2
00000068  4243                     clr.w      D3
0000006A  4244                     clr.w      D4
0000006C  4245                     clr.w      D5
0000006E  1418                     move.b     D2, [A0]+
00000070  1618                     move.b     D3, [A0]+
00000072  1818                     move.b     D4, [A0]+
00000074  1A18                     move.b     D5, [A0]+
label00000076:
00000076  1202                     move.b     D1, D2
00000078  1403                     move.b     D2, D3
0000007A  1604                     move.b     D3, D4
0000007C  1805                     move.b     D4, D5
0000007E  1A10                     move.b     D5, [A0]
00000080  3001                     move.w     D0, D1
00000082  9042                     sub.w      D0, D2
00000084  9042                     sub.w      D0, D2
00000086  E743                     asl        D3.w, 3
00000088  D043                     add.w      D0, D3
0000008A  E64B                     lsr        D3.w, 3
0000008C  D043                     add.w      D0, D3
0000008E  D043                     add.w      D0, D3
00000090  9044                     sub.w      D0, D4
00000092  9044                     sub.w      D0, D4
00000094  D045                     add.w      D0, D5
00000096  6A02                     bpl        +0x4 /* 0000009A */
00000098  4240                     clr.w      D0
label0000009A:
0000009A  0C40 0800                cmpi.w     D0, 0x800
0000009E  6504                     bcs        +0x6 /* 000000A4 */
000000A0  303C 07FF                move.w     D0, 0x7FF
label000000A4:
000000A4  E648                     lsr        D0.w, 3
000000A6  10C0                     move.b     [A0]+, D0
000000A8  5387                     subq.l     D7, 1
000000AA  66CA                     bne        -0x34 /* 00000076 */
label000000AC:
000000AC  4CDF 7FFF                movem.l    D0,D1,D2,D3,D4,D5,D6,D7,A0,A1,A2,A3,A4,A5,A6, [A7]+
000000B0  4E75                     rts
